为什么两个线程都丢失了键，而不是一个线程？

对于一个hash表，当p1插入数据k1，p1尝试在 bucket 末尾插入 k1。
此时切换到p2,当p2插入数据k2，p2尝试在 bucket 末尾插入 k2，并且成功在桶末尾插入 k2。
此时切换回p1，p1在其认为的 “桶末尾”（实际为 k2 所处位置）插入 k1，导致k2丢失了。